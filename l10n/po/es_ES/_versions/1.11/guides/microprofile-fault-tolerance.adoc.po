# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-04-22 09:16+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: es_ES\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:6
#, no-wrap
msgid "Quarkus - Fault Tolerance"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:13
msgid "One of the challenges brought by the distributed nature of microservices is that communication with external systems is inherently unreliable. This increases demand on resiliency of applications. To simplify making more resilient applications, Quarkus contains an implementation of the MicroProfile Fault Tolerance specification."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:16
#, fuzzy
msgid "In this guide, we demonstrate usage of MicroProfile Fault Tolerance annotations such as `@Timeout`, `@Fallback`, `@Retry` and `@CircuitBreaker`."
msgstr "En esta guía, demostramos el uso de anotaciones de tolerancia a fallos de MicroProfile como `@Timeout` , `@Fallback` , `@Retry` y `@CircuitBreaker` ."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:17
#, fuzzy, no-wrap
msgid "Prerequisites"
msgstr "Requisitos previos"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:20
#, fuzzy
msgid "To complete this guide, you need:"
msgstr "Para completar esta guía, necesitas:"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:22
#, fuzzy
msgid "less than 15 minutes"
msgstr "menos de 15 minutos"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:23
#, fuzzy
msgid "an IDE"
msgstr "un IDE"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:24
msgid "JDK 1.8+ installed with `JAVA_HOME` configured appropriately"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:25
#, fuzzy
msgid "Apache Maven {maven-version}"
msgstr "Apache Maven {versión de Maven}"

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:26
#, fuzzy, no-wrap
msgid "The Scenario"
msgstr "El escenario"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:30
#, fuzzy
msgid "The application built in this guide simulates a simple backend for a gourmet coffee e-shop. It implements a REST endpoint providing information about coffee samples we have on store."
msgstr "La aplicación construida en esta guía simula un backend sencillo para una tienda electrónica de café gourmet. Implementa un endpoint REST que proporciona información sobre las muestras de café que tenemos en la tienda."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:33
#, fuzzy
msgid "Let's imagine, although it's not implemented as such, that some of the methods in our endpoint require communication to external services like a database or an external microservice, which introduces a factor of unreliability."
msgstr "Imaginemos, aunque no esté implementado como tal, que algunos de los métodos de nuestro endpoint requieren comunicación con servicios externos como una base de datos o un microservicio externo, lo que introduce un factor de falta de fiabilidad."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:34
#, fuzzy, no-wrap
msgid "Solution"
msgstr "Solución"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:38
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "Le recomendamos que siga las instrucciones de las siguientes secciones y cree la aplicación paso a paso. Sin embargo, puede ir directamente al ejemplo completado."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:40
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "Clone el repositorio Git: `git clone {quickstarts-clone-url}` o descargue un {quickstarts-archive-url}[archivo]."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:42
#, fuzzy
msgid "The solution is located in the `microprofile-fault-tolerance-quickstart` {quickstarts-tree-url}/microprofile-fault-tolerance-quickstart[directory]."
msgstr "La solución se encuentra en `microprofile-fault-tolerance-quickstart` {quickstarts-tree-url}/microprofile-fault-tolerance-quickstart[directory]."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:43
#, fuzzy, no-wrap
msgid "Creating the Maven Project"
msgstr "Creación del proyecto Maven"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:46
#, fuzzy
msgid "First, we need a new project. Create a new project with the following command:"
msgstr "En primer lugar, necesitamos un nuevo proyecto. Cree un nuevo proyecto con el siguiente comando:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:56
#, no-wrap
msgid ""
"mvn io.quarkus:quarkus-maven-plugin:{quarkus-version}:create \\\n"
"    -DprojectGroupId=org.acme \\\n"
"    -DprojectArtifactId=microprofile-fault-tolerance-quickstart \\\n"
"    -DclassName=\"org.acme.microprofile.faulttolerance.CoffeeResource\" \\\n"
"    -Dpath=\"/coffee\" \\\n"
"    -Dextensions=\"resteasy,smallrye-fault-tolerance,resteasy-jackson\"\n"
"cd microprofile-fault-tolerance-quickstart\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:60
msgid "This command generates a Maven structure, importing the extensions for RESTEasy/JAX-RS and SmallRye Fault Tolerance, which is an implementation of the MicroProfile Fault Tolerance spec that Quarkus uses."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:63
#, fuzzy
msgid "If you already have your Quarkus project configured, you can add the `smallrye-fault-tolerance` extension to your project by running the following command in your project base directory:"
msgstr "Si ya tiene configurado su proyecto Quarkus, puede añadir la extensión `smallrye-fault-tolerance` a su proyecto ejecutando el siguiente comando en el directorio base de su proyecto:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:67
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:492
#, no-wrap
msgid "./mvnw quarkus:add-extension -Dextensions=\"smallrye-fault-tolerance\"\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:70
#, fuzzy
msgid "This will add the following to your `pom.xml`:"
msgstr "Esto añadirá lo siguiente a su `pom.xml`:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:77
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:501
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-smallrye-fault-tolerance</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:79
#, fuzzy, no-wrap
msgid "Preparing an Application: REST Endpoint and CDI Bean"
msgstr "Preparación de una aplicación: REST Endpoint y CDI Bean"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:83
#, fuzzy
msgid "In this section we create a skeleton of our application, so that we have something that we can extend and to which we can add fault tolerance features later on."
msgstr "En esta sección creamos un esqueleto de nuestra aplicación, de modo que tengamos algo que podamos ampliar y a lo que podamos añadir características de tolerancia a fallos más adelante."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:85
#, fuzzy
msgid "First, create a simple entity representing a coffee sample in our store:"
msgstr "En primer lugar, crearemos una entidad simple que represente una muestra de café en nuestra tienda:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:89
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:114
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:159
#, no-wrap
msgid "package org.acme.microprofile.faulttolerance;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:91
#, no-wrap
msgid "public class Coffee {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:96
#, no-wrap
msgid ""
"    public Integer id;\n"
"    public String name;\n"
"    public String countryOfOrigin;\n"
"    public Integer price;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:99
#, no-wrap
msgid ""
"    public Coffee() {\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:107
#, no-wrap
msgid ""
"    public Coffee(Integer id, String name, String countryOfOrigin, Integer price) {\n"
"        this.id = id;\n"
"        this.name = name;\n"
"        this.countryOfOrigin = countryOfOrigin;\n"
"        this.price = price;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:110
#, fuzzy
msgid "Let's continue with a simple CDI bean, that would work as a repository of our coffee samples."
msgstr "Sigamos con un simple grano CDI, que funcionaría como depósito de nuestras muestras de café."

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:122
#, no-wrap
msgid ""
"import java.util.ArrayList;\n"
"import java.util.Collections;\n"
"import java.util.HashMap;\n"
"import java.util.List;\n"
"import java.util.Map;\n"
"import java.util.stream.Collectors;\n"
"import javax.enterprise.context.ApplicationScoped;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:125
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class CoffeeRepositoryService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:127
#, no-wrap
msgid "    private Map<Integer, Coffee> coffeeList = new HashMap<>();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:133
#, no-wrap
msgid ""
"    public CoffeeRepositoryService() {\n"
"        coffeeList.put(1, new Coffee(1, \"Fernandez Espresso\", \"Colombia\", 23));\n"
"        coffeeList.put(2, new Coffee(2, \"La Scala Whole Beans\", \"Bolivia\", 18));\n"
"        coffeeList.put(3, new Coffee(3, \"Dak Lak Filter\", \"Vietnam\", 25));\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:137
#, no-wrap
msgid ""
"    public List<Coffee> getAllCoffees() {\n"
"        return new ArrayList<>(coffeeList.values());\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:141
#, no-wrap
msgid ""
"    public Coffee getCoffeeById(Integer id) {\n"
"        return coffeeList.get(id);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:152
#, no-wrap
msgid ""
"    public List<Coffee> getRecommendations(Integer id) {\n"
"        if (id == null) {\n"
"            return Collections.emptyList();\n"
"        }\n"
"        return coffeeList.values().stream()\n"
"                .filter(coffee -> !id.equals(coffee.id))\n"
"                .limit(2)\n"
"                .collect(Collectors.toList());\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:155
msgid "Finally, edit the `org.acme.microprofile.faulttolerance.CoffeeResource` class as follows:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:166
#, no-wrap
msgid ""
"import java.util.List;\n"
"import java.util.Random;\n"
"import java.util.concurrent.atomic.AtomicLong;\n"
"import javax.inject.Inject;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:168
#, no-wrap
msgid "import org.jboss.logging.Logger;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:171
#, no-wrap
msgid ""
"@Path(\"/coffee\")\n"
"public class CoffeeResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:173
#, no-wrap
msgid "    private static final Logger LOGGER = Logger.getLogger(CoffeeResource.class);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:176
#, no-wrap
msgid ""
"    @Inject\n"
"    CoffeeRepositoryService coffeeRepository;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:178
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:374
#, no-wrap
msgid "    private AtomicLong counter = new AtomicLong(0);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:182
#, no-wrap
msgid ""
"    @GET\n"
"    public List<Coffee> coffees() {\n"
"        final Long invocationNumber = counter.getAndIncrement();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:184
#, no-wrap
msgid "        maybeFail(String.format(\"CoffeeResource#coffees() invocation #%d failed\", invocationNumber));\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:188
#, no-wrap
msgid ""
"        LOGGER.infof(\"CoffeeResource#coffees() invocation #%d returning successfully\", invocationNumber);\n"
"        return coffeeRepository.getAllCoffees();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:196
#, no-wrap
msgid ""
"    private void maybeFail(String failureLogMessage) {\n"
"        if (new Random().nextBoolean()) {\n"
"            LOGGER.error(failureLogMessage);\n"
"            throw new RuntimeException(\"Resource failure.\");\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:201
#, fuzzy
msgid "At this point, we expose a single REST method that will show a list of coffee samples in a JSON format. Note that we introduced some fault making code in our `CoffeeResource#maybeFail()` method, which is going to cause failures in the `CoffeeResource#coffees()` endpoint method in about 50 % of requests."
msgstr "En este punto, exponemos un único método REST que mostrará una lista de muestras de café en formato JSON. Tenga en cuenta que hemos introducido algo de código generador de fallos en nuestro método `CoffeeResource#maybeFail()` , que va a provocar fallos en el método del punto final `CoffeeResource#coffees()` en aproximadamente el 50 % de las solicitudes."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:203
#, fuzzy
msgid "Why not check that our application works? Run the Quarkus development server with:"
msgstr "¿Por qué no comprobar que nuestra aplicación funciona? Ejecute el servidor de desarrollo de Quarkus con:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:207
#, no-wrap
msgid "./mvnw compile quarkus:dev\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:212
#, fuzzy
msgid "and open `http://localhost:8080/coffee` in your browser. Make couple of requests (remember, some of them we expect to fail). At least some of the requests should show us the list of our coffee samples in JSON, the rest will fail with a `RuntimeException` thrown in `CoffeeResource#maybeFail()`."
msgstr "y abra `http://localhost:8080/coffee` en su navegador. Realice un par de peticiones (recuerde que esperamos que algunas fallen). Al menos algunas de las peticiones deberían mostrarnos la lista de nuestras muestras de café en JSON, el resto fallarán con un `RuntimeException` lanzado en `CoffeeResource#maybeFail()` ."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:214
#, fuzzy
msgid "Congratulations, you've just made a working (although somewhat unreliable) Quarkus application!"
msgstr "Enhorabuena, acabas de hacer una aplicación de Quarkus que funciona (aunque sea poco fiable)."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:215
#, fuzzy, no-wrap
msgid "Adding Resiliency: Retries"
msgstr "Añadir resiliencia: Reintentos"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:219
#, fuzzy
msgid "Let the Quarkus development server running and in your IDE add the `@Retry` annotation to the `CoffeeResource#coffees()` method as follows and save the file:"
msgstr "Deje que se ejecute el servidor de desarrollo Quarkus y en su IDE añada la anotación `@Retry` al método `CoffeeResource#coffees()` como se indica a continuación y guarde el archivo:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:224
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:459
#, no-wrap
msgid ""
"import org.eclipse.microprofile.faulttolerance.Retry;\n"
"...\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:234
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:469
#, no-wrap
msgid ""
"public class CoffeeResource {\n"
"    ...\n"
"    @GET\n"
"    @Retry(maxRetries = 4)\n"
"    public List<Coffee> coffees() {\n"
"        ...\n"
"    }\n"
"    ...\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:238
#, fuzzy
msgid "Hit refresh in your browser. The Quarkus development server will automatically detect the changes and recompile the app for you, so there's no need to restart it."
msgstr "Pulse actualizar en su navegador. El servidor de desarrollo de Quarkus detectará automáticamente los cambios y recompilará la aplicación por usted, por lo que no es necesario reiniciarla."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:242
#, fuzzy
msgid "You can hit refresh couple more times. Practically all requests should now be succeeding. The `CoffeeResource#coffees()` method is still in fact failing in about 50 % of time, but every time it happens, the platform will automatically retry the call!"
msgstr "Puede pulsar actualizar un par de veces más. Prácticamente todas las peticiones deberían tener éxito ahora. De hecho, el método `CoffeeResource#coffees()` sigue fallando en aproximadamente el 50 % de las ocasiones, pero cada vez que ocurra, ¡la plataforma reintentará automáticamente la llamada!"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:245
#, fuzzy
msgid "To see that that the failures still happen, check the output of the development server. The log messages should be similar to these:"
msgstr "Para comprobar que los fallos siguen produciéndose, compruebe la salida del servidor de desarrollo. Los mensajes de registro deberían ser similares a estos:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:253
#, no-wrap
msgid ""
"2019-03-06 12:17:41,725 INFO  [org.acm.fau.CoffeeResource] (XNIO-1 task-1) CoffeeResource#coffees() invocation #5 returning successfully\n"
"2019-03-06 12:17:44,187 INFO  [org.acm.fau.CoffeeResource] (XNIO-1 task-1) CoffeeResource#coffees() invocation #6 returning successfully\n"
"2019-03-06 12:17:45,166 ERROR [org.acm.fau.CoffeeResource] (XNIO-1 task-1) CoffeeResource#coffees() invocation #7 failed\n"
"2019-03-06 12:17:45,172 ERROR [org.acm.fau.CoffeeResource] (XNIO-1 task-1) CoffeeResource#coffees() invocation #8 failed\n"
"2019-03-06 12:17:45,176 INFO  [org.acm.fau.CoffeeResource] (XNIO-1 task-1) CoffeeResource#coffees() invocation #9 returning successfully\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:258
#, fuzzy
msgid "You can see that every time an invocation fails, it's immediately followed by another invocation, until one succeeds.  Since we allowed 4 retries, it would require 5 invocations to fail in a row, in order for the user to be actually exposed to a failure. Which is fairly unlikely to happen."
msgstr "Puede ver que cada vez que una invocación falla, es seguida inmediatamente por otra invocación, hasta que una tiene éxito. Dado que permitimos 4 reintentos, harían falta 5 invocaciones seguidas que fallaran para que el usuario se viera realmente expuesto a un fallo. Lo cual es bastante improbable que ocurra."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:259
#, fuzzy, no-wrap
msgid "Adding Resiliency: Timeouts"
msgstr "Añadiendo resistencia: Tiempos muertos"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:262
#, fuzzy
msgid "So what else have we got in MicroProfile Fault Tolerance? Let's look into timeouts."
msgstr "¿Qué más tenemos en MicroProfile Fault Tolerance? Veamos los tiempos de espera."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:265
#, fuzzy
msgid "Add following two methods to our `CoffeeResource` endpoint. Again, no need to restart the server, just paste the code and save the file."
msgstr "Añada los dos métodos siguientes a nuestro endpoint `CoffeeResource` . De nuevo, no es necesario reiniciar el servidor, simplemente pegue el código y guarde el archivo."

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:279
#, no-wrap
msgid ""
"import org.jboss.resteasy.annotations.jaxrs.PathParam;\n"
"import org.eclipse.microprofile.faulttolerance.Timeout;\n"
"...\n"
"public class CoffeeResource {\n"
"    ...\n"
"    @GET\n"
"    @Path(\"/{id}/recommendations\")\n"
"    @Timeout(250)\n"
"    public List<Coffee> recommendations(@PathParam int id) {\n"
"        long started = System.currentTimeMillis();\n"
"        final long invocationNumber = counter.getAndIncrement();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:290
#, no-wrap
msgid ""
"        try {\n"
"            randomDelay();\n"
"            LOGGER.infof(\"CoffeeResource#recommendations() invocation #%d returning successfully\", invocationNumber);\n"
"            return coffeeRepository.getRecommendations(id);\n"
"        } catch (InterruptedException e) {\n"
"            LOGGER.errorf(\"CoffeeResource#recommendations() invocation #%d timed out after %d ms\",\n"
"                    invocationNumber, System.currentTimeMillis() - started);\n"
"            return null;\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:295
#, no-wrap
msgid ""
"    private void randomDelay() throws InterruptedException {\n"
"        Thread.sleep(new Random().nextInt(500));\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:301
#, fuzzy
msgid "We added some new functionality. We want to be able to recommend some related coffees based on a coffee that a user is currently looking at. It's not a critical functionality, it's a nice-to-have. When the system is overloaded and the logic behind obtaining recommendations takes too long to execute, we would rather time out and render the UI without recommendations."
msgstr "Hemos añadido una nueva funcionalidad. Queremos poder recomendar algunos cafés relacionados basándonos en un café que un usuario esté mirando en ese momento. No es una funcionalidad crítica, es un nice-to-have. Cuando el sistema está sobrecargado y la lógica que hay detrás de la obtención de recomendaciones tarda demasiado en ejecutarse, preferimos que se agote el tiempo de espera y mostrar la interfaz de usuario sin recomendaciones."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:304
#, fuzzy
msgid "Note that the timeout was configured to 250 ms, and a random artificial delay between 0 to 500 ms was introduced into the `CoffeeResource#recommendations()` method."
msgstr "Tenga en cuenta que el tiempo de espera se configuró en 250 ms, y que se introdujo un retardo artificial aleatorio entre 0 y 500 ms en el método `CoffeeResource#recommendations()` ."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:306
#, fuzzy
msgid "In your browser, go to `http://localhost:8080/coffee/2/recommendations` and hit refresh a couple of times."
msgstr "En su navegador, vaya a `&lt;a href=\"http://localhost:8080/coffee/2/recommendations\" class=\"bare\"&gt;http://localhost:8080/coffee/2/recommendations&lt;/a&gt;` y pulsa actualizar un par de veces."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:309
#, fuzzy
msgid "You should see some requests time out with `org.eclipse.microprofile.faulttolerance.exceptions.TimeoutException`.  Requests that do not time out should show two recommended coffee samples in JSON."
msgstr "Debería ver que algunas solicitudes agotan el tiempo de espera con `org.eclipse.microprofile.faulttolerance.exceptions.TimeoutException` . Las solicitudes que no agoten el tiempo de espera deberían mostrar dos muestras de café recomendadas en JSON."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:310
#, fuzzy, no-wrap
msgid "Adding Resiliency: Fallbacks"
msgstr "Añadir resiliencia: Fallbacks"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:314
#, fuzzy
msgid "Let's make our recommendations feature even better by providing a fallback (and presumably faster) way of getting related coffees."
msgstr "Mejoremos aún más nuestra función de recomendaciones proporcionando una forma alternativa (y presumiblemente más rápida) de conseguir cafés relacionados."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:317
#, fuzzy
msgid "Add a fallback method to `CoffeeResource` and a `@Fallback` annotation to `CoffeeResource#recommendations()` method as follows:"
msgstr "Añada un método fallback a `CoffeeResource` y una anotación `@Fallback` al método `CoffeeResource#recommendations()` como sigue:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:329
#, no-wrap
msgid ""
"import java.util.Collections;\n"
"import org.eclipse.microprofile.faulttolerance.Fallback;\n"
"...\n"
"public class CoffeeResource {\n"
"    ...\n"
"    @Fallback(fallbackMethod = \"fallbackRecommendations\")\n"
"    public List<Coffee> recommendations(@PathParam int id) {\n"
"        ...\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:337
#, no-wrap
msgid ""
"    public List<Coffee> fallbackRecommendations(int id) {\n"
"        LOGGER.info(\"Falling back to RecommendationResource#fallbackRecommendations()\");\n"
"        // safe bet, return something that everybody likes\n"
"        return Collections.singletonList(coffeeRepository.getCoffeeById(1));\n"
"    }\n"
"    ...\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:343
#, fuzzy
msgid "Hit refresh several times on `http://localhost:8080/coffee/2/recommendations`.  The `TimeoutException` should not appear anymore. Instead, in case of a timeout, the page will display a single recommendation that we hardcoded in our fallback method `fallbackRecommendations()`, rather than two recommendations returned by the original method."
msgstr "Pulse actualizar varias veces en `http://localhost:8080/coffee/2/recommendations` . La página `TimeoutException` ya no debería aparecer. En su lugar, en caso de que se agote el tiempo de espera, la página mostrará una única recomendación que hemos codificado en nuestro método alternativo `fallbackRecommendations()` , en lugar de las dos recomendaciones devueltas por el método original."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:345
#, fuzzy
msgid "Check the server output to see that fallback is really happening:"
msgstr "Comprueba la salida del servidor para ver que realmente se está produciendo el fallback:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:351
#, no-wrap
msgid ""
"2020-01-09 13:21:34,250 INFO  [org.acm.fau.CoffeeResource] (executor-thread-1) CoffeeResource#recommendations() invocation #1 returning successfully\n"
"2020-01-09 13:21:36,354 ERROR [org.acm.fau.CoffeeResource] (executor-thread-1) CoffeeResource#recommendations() invocation #2 timed out after 250 ms\n"
"2020-01-09 13:21:36,355 INFO  [org.acm.fau.CoffeeResource] (executor-thread-1) Falling back to RecommendationResource#fallbackRecommendations()\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:354
#, fuzzy
msgid "The fallback method is required to have the same parameters as the original method."
msgstr "El método alternativo debe tener los mismos parámetros que el método original."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:355
#, fuzzy, no-wrap
msgid "Adding Resiliency: Circuit Breaker"
msgstr "Añadir resiliencia: Interruptor automático"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:361
#, fuzzy
msgid "A circuit breaker is useful for limiting number of failures happening in the system, when part of the system becomes temporarily unstable. The circuit breaker records successful and failed invocations of a method, and when the ratio of failed invocations reaches the specified threshold, the circuit breaker _opens_ and blocks all further invocations of that method for a given time."
msgstr "Un disyuntor es útil para limitar el número de fallos que se producen en el sistema, cuando parte de éste se vuelve temporalmente inestable. El disyuntor registra las invocaciones exitosas y fallidas de un método, y cuando la proporción de invocaciones fallidas alcanza el umbral especificado, el disyuntor _se abre_ y bloquea todas las invocaciones posteriores de ese método durante un tiempo determinado."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:363
#, fuzzy
msgid "Add the following code into the `CoffeeRepositoryService` bean, so that we can demonstrate a circuit breaker in action:"
msgstr "Añade el siguiente código en el bean `CoffeeRepositoryService`, para que podamos demostrar un interruptor en acción:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:369
#, no-wrap
msgid ""
"import java.util.concurrent.atomic.AtomicLong;\n"
"import org.eclipse.microprofile.faulttolerance.CircuitBreaker;\n"
"...\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:372
#, no-wrap
msgid ""
"public class CoffeeRepositoryService {\n"
"    ...\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:380
#, no-wrap
msgid ""
"    @CircuitBreaker(requestVolumeThreshold = 4)\n"
"    public Integer getAvailability(Coffee coffee) {\n"
"        maybeFail();\n"
"        return new Random().nextInt(30);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:389
#, no-wrap
msgid ""
"    private void maybeFail() {\n"
"        // introduce some artificial failures\n"
"        final Long invocationNumber = counter.getAndIncrement();\n"
"        if (invocationNumber % 4 > 1) { // alternate 2 successful and 2 failing invocations\n"
"            throw new RuntimeException(\"Service failed.\");\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:392
#, fuzzy
msgid "And inject the code below into the `CoffeeResource` endpoint:"
msgstr "E inyecte el código siguiente en el punto final de `CoffeeResource`:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:401
#, no-wrap
msgid ""
"public class CoffeeResource {\n"
"    ...\n"
"    @Path(\"/{id}/availability\")\n"
"    @GET\n"
"    public Response availability(@PathParam int id) {\n"
"        final Long invocationNumber = counter.getAndIncrement();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:407
#, no-wrap
msgid ""
"        Coffee coffee = coffeeRepository.getCoffeeById(id);\n"
"        // check that coffee with given id exists, return 404 if not\n"
"        if (coffee == null) {\n"
"            return Response.status(Response.Status.NOT_FOUND).build();\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:423
#, no-wrap
msgid ""
"        try {\n"
"            Integer availability = coffeeRepository.getAvailability(coffee);\n"
"            LOGGER.infof(\"CoffeeResource#availability() invocation #%d returning successfully\", invocationNumber);\n"
"            return Response.ok(availability).build();\n"
"        } catch (RuntimeException e) {\n"
"            String message = e.getClass().getSimpleName() + \": \" + e.getMessage();\n"
"            LOGGER.errorf(\"CoffeeResource#availability() invocation #%d failed: %s\", invocationNumber, message);\n"
"            return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n"
"                    .entity(message)\n"
"                    .type(MediaType.TEXT_PLAIN_TYPE)\n"
"                    .build();\n"
"        }\n"
"    }\n"
"    ...\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:427
#, fuzzy
msgid "We added another functionality - the application can return the amount of remaining packages of given coffee on our store (just a random number)."
msgstr "Hemos añadido otra funcionalidad: la aplicación puede devolver la cantidad de paquetes restantes de un café determinado en nuestra tienda (sólo un número aleatorio)."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:430
#, fuzzy
msgid "This time an artificial failure was introduced in the CDI bean: the `CoffeeRepositoryService#getAvailability()` method is going to alternate between two successful and two failed invocations."
msgstr "Esta vez se ha introducido un fallo artificial en el frijol CDI: el método `CoffeeRepositoryService#getAvailability()` va a alternar entre dos invocaciones exitosas y dos fallidas."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:434
#, fuzzy
msgid "We also added a `@CircuitBreaker` annotation with `requestVolumeThreshold = 4`. `CircuitBreaker.failureRatio` is by default 0.5, and `CircuitBreaker.delay` is by default 5 seconds. That means that a circuit breaker will open when 2 of the last 4 invocations failed and it will stay open for 5 seconds."
msgstr "También añadimos una anotación `@CircuitBreaker` con `requestVolumeThreshold = 4` . `CircuitBreaker.failureRatio` es por defecto 0,5, y `CircuitBreaker.delay` es por defecto 5 segundos. Eso significa que un disyuntor se abrirá cuando fallen 2 de las 4 últimas invocaciones y permanecerá abierto durante 5 segundos."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:436
#, fuzzy
msgid "To test this out, do the following:"
msgstr "Para comprobarlo, haz lo siguiente:"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:438
#, fuzzy
msgid "Go to `http://localhost:8080/coffee/2/availability` in your browser. You should see a number being returned."
msgstr "Vaya a `&lt;a href=\"http://localhost:8080/coffee/2/availability\" class=\"bare\"&gt;http://localhost:8080/coffee/2/availability&lt;/a&gt;` en su navegador. Debería ver que se devuelve un número."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:439
#, fuzzy
msgid "Hit refresh, this second request should again be successful and return a number."
msgstr "Pulsa actualizar, esta segunda petición debería volver a tener éxito y devolver un número."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:441
#, fuzzy
msgid "Refresh two more times. Both times you should see text \"RuntimeException: Service failed.\", which is the exception thrown by `CoffeeRepositoryService#getAvailability()`."
msgstr "Actualice dos veces más. Ambas veces debería ver el texto \"RuntimeException: Service failed.\", que es la excepción lanzada por `CoffeeRepositoryService#getAvailability()` ."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:444
#, fuzzy
msgid "Refresh a couple more times. Unless you waited too long, you should again see exception, but this time it's \"CircuitBreakerOpenException: getAvailability\". This exception indicates that the circuit breaker opened and the `CoffeeRepositoryService#getAvailability()` method is not being called anymore."
msgstr "Actualice un par de veces más. A menos que haya esperado demasiado, debería volver a ver la excepción, pero esta vez es \"CircuitBreakerOpenException: getAvailability\". Esta excepción indica que el disyuntor se abrió y que ya no se llama al método `CoffeeRepositoryService#getAvailability()` ."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:446
#, fuzzy
msgid "Give it 5 seconds during which circuit breaker should close and you should be able to make two successful requests again."
msgstr "Déle 5 segundos durante los cuales el disyuntor debería cerrarse y usted debería poder volver a realizar dos peticiones con éxito."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:447
#, fuzzy, no-wrap
msgid "Runtime configuration"
msgstr "Configuración de tiempo de ejecución"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:450
#, fuzzy
msgid "You can override the annotations parameters at runtime inside your `application.properties` file."
msgstr "Puede anular los parámetros de las anotaciones en tiempo de ejecución dentro de su archivo `application.properties`."

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:452
#, fuzzy
msgid "If we take the retry example that we already saw:"
msgstr "Si tomamos el ejemplo de reintento que ya vimos:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:456
#, no-wrap
msgid "package org.acme;\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:472
#, fuzzy
msgid "We can override the `maxRetries` parameter with 6 retries instead of 4 by the following configuration item:"
msgstr "Podemos anular el parámetro `maxRetries` con 6 reintentos en lugar de 4 mediante el siguiente elemento de configuración:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:475
#, no-wrap
msgid "org.acme.CoffeeResource/coffees/Retry/maxRetries=6\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:479
#, fuzzy
msgid "The format is `fully-qualified-class-name/method-name/annotation-name/property-name=value`.  You can also configure a property for all the annotation via `annotation-name/property-name=value`."
msgstr "El formato es `fully-qualified-class-name/method-name/annotation-name/property-name=value` . También puede configurar una propiedad para toda la anotación a través de `annotation-name/property-name=value` ."

#. type: Title ==
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:480
#, fuzzy, no-wrap
msgid "Conclusion"
msgstr "Conclusión"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:484
msgid "MicroProfile Fault Tolerance allows to improve resiliency of your application, without having an impact on the complexity of our business logic."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:486
#, fuzzy
msgid "All that is needed to enable the fault tolerance features in Quarkus is:"
msgstr "Todo lo que se necesita para activar las características de tolerancia a fallos en Quarkus es:"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:488
#, fuzzy
msgid "adding the `smallrye-fault-tolerance` Quarkus extension to your project using the `quarkus-maven-plugin`:"
msgstr "añadiendo la extensión de `smallrye-fault-tolerance` Quarkus a su proyecto utilizando la página web `quarkus-maven-plugin`:"

#. type: Plain text
#: upstream/_versions/1.11/guides/microprofile-fault-tolerance.adoc:494
#, fuzzy
msgid "or simply adding the following Maven dependency:"
msgstr "o simplemente añadiendo la siguiente dependencia de Maven:"
